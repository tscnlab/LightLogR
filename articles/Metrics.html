<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="LightLogR">
<title>Metrics • LightLogR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Metrics">
<meta property="og:description" content="LightLogR">
<meta property="og:image" content="https://tscnlab.github.io/LightLogR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">LightLogR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Day.html">The whole game</a>
    <a class="dropdown-item" href="../articles/Import.html">Import &amp; cleaning</a>
    <a class="dropdown-item" href="../articles/Metrics.html">Metrics</a>
    <a class="dropdown-item" href="../articles/Visualizations.html">Visualizations</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tscnlab/LightLogR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Metrics</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tscnlab/LightLogR/blob/HEAD/vignettes/articles/Metrics.Rmd" class="external-link"><code>vignettes/articles/Metrics.Rmd</code></a></small>
      <div class="d-none name"><code>Metrics.Rmd</code></div>
    </div>

    
    
<p>This article focuses on two important aspects of light logger
analysis: structuring data into relevant groups and calculating personal
light exposure metrics for them. LightLogR contains a large set of over
60 metrics and sub-metrics across multiple functions, where each
constitutes a family of light exposure metrics. The following packages
are needed for the analysis:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tscnlab/LightLogR" class="external-link">LightLogR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ddsjoberg/gtsummary" class="external-link">gtsummary</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="importing-data">Importing Data<a class="anchor" aria-label="anchor" href="#importing-data"></a>
</h2>
<p>We will use data imported and cleaned already in the article <a href="https://tscnlab.github.io/LightLogR/articles/Import.html">Import
&amp; Cleaning</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"cleaned_data/ll_data.rds"</span><span class="op">)</span></span></code></pre></div>
<p>As can be seen by using <code><a href="../reference/gg_overview.html">gg_overview()</a></code>, the dataset
contains 17 ids with one weeks worth of data each, and one to three
participants per week.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gg_overview.html">gg_overview</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="Metrics_files/figure-html/overview-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="metric-principles">Metric principles<a class="anchor" aria-label="anchor" href="#metric-principles"></a>
</h2>
<p>There are a lot of metrics associated with personal light exposure.
You can find the function reference to all of them in the appropriate <a href="https://tscnlab.github.io/LightLogR/reference/index.html#metrics">reference
section</a>. There are a few important distinctions between metrics that
are important to understand:</p>
<ul>
<li><p>Some metrics require or work best with a specific time frame,
usually one day, while others are calculated over an arbitrary length of
time. For example, the function <code><a href="../reference/interdaily_stability.html">interdaily_stability()</a></code>
calculates a metric over multiple days, while a function like
<code><a href="../reference/midpointCE.html">midpointCE()</a></code> calculates the midpoint of the cumulative
light exposure within the given time series - this is less useful for
multiple days, where the midpoint is just a time point during these
days. E.g., for two similar light exposure patterns across two days, the
cumulative light exposure across those two days will be around midnight,
which is not particularly informative. Much more sensible is the
midpoint of the light exposure for each day. To enable this, data has to
be grouped within days (or other relevant time frames, like
sleep/wake-phase).</p></li>
<li><p>Some metrics are submetrics within a family and have to be
actively chosen through the arguments of the function. An example is
<code><a href="../reference/duration_above_threshold.html">duration_above_threshold()</a></code> that, despite its name also
provides the metrics <code>duration below threshold</code> and
<code>duration within threshold</code>. Depending on its
<code>comparison</code> argument, and whether one or two
<code>threshold</code>s are provided, the function will calculate
different metrics.</p></li>
<li><p>Some metric functions calculate multiple submetrics at once, like
<code><a href="../reference/bright_dark_period.html">bright_dark_period()</a></code>. As stated above, this type of
function contains metrics accessible through a function argument,
<code>period</code> in this case, which allows to specify whether the
brightest or darkest periods of the day are required. Independent of
this, the function will calculate multiple submetrics at once, which are
the <code>onset</code>, <code>midpoint</code>, and <code>offset</code>
of the respective period, and also the <code>mean</code> light level
during that period.</p></li>
</ul>
<p>We will cover the practical considerations following from these
aspects in the following sections. Further, every function documentation
explicitly states whether different metrics are accessible through
parameters, and which metrics are calculated by default.</p>
</div>
<div class="section level2">
<h2 id="metric-calculation-basics">Metric calculation: basics<a class="anchor" aria-label="anchor" href="#metric-calculation-basics"></a>
</h2>
<p>All metric functions are by default agnostic to the type of data.
They require vectors of light data and commonly also of datetimes. This
means that the functions can be used outside of the LightLogR framework,
if applied correctly. Let us try this with a simple example for a days
worth of light data for one participant across two functions.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_Id201</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Id</span> <span class="op">==</span> <span class="fl">201</span> <span class="op">&amp;</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/date.html" class="external-link">date</a></span><span class="op">(</span><span class="va">Datetime</span><span class="op">)</span> <span class="op">==</span> <span class="st">"2023-08-15"</span><span class="op">)</span></span>
<span><span class="va">data_Id201</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gg_day.html">gg_day</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="Metrics_files/figure-html/Id%20201-1.png" width="700"></p>
<div class="section level3">
<h3 id="time-above-threshold-tat">Time above threshold (TAT)<a class="anchor" aria-label="anchor" href="#time-above-threshold-tat"></a>
</h3>
<p>The first example metric we will calculate is the <em>time above
threshold</em> (or TAT) for a threshold of 250 lx mel EDI. TAT is
calculated by the function <code><a href="../reference/duration_above_threshold.html">duration_above_threshold()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">250</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "34500s (~9.58 hours)"</span></span></code></pre></div>
<p>Specifying the argument <code>comparison = "below"</code> will
calculate the time below the threshold.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">250</span>,</span>
<span>  comparison <span class="op">=</span> <span class="st">"below"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "51900s (~14.42 hours)"</span></span></code></pre></div>
<p>And specifying two thresholds will calculate the time within the
thresholds.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">250</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "15320s (~4.26 hours)"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="brightest-10-hours-of-the-day-l10">Brightest 10 hours of the day (L10)<a class="anchor" aria-label="anchor" href="#brightest-10-hours-of-the-day-l10"></a>
</h3>
<p>The second example metric yields multiple submetrics at once. The
function <code><a href="../reference/bright_dark_period.html">bright_dark_period()</a></code> calculates the brightest and
darkest periods of the day. By default, it calculates the brightest 10
hour period of the day. By setting <code>as_df = TRUE</code>, the
function will return a data frame we can pipe to <code><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt()</a></code> for a
nice output</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/bright_dark_period.html">bright_dark_period</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  as.df <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="wlefoodfie" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wlefoodfie table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wlefoodfie thead, #wlefoodfie tbody, #wlefoodfie tfoot, #wlefoodfie tr, #wlefoodfie td, #wlefoodfie th {
  border-style: none;
}

#wlefoodfie p {
  margin: 0;
  padding: 0;
}

#wlefoodfie .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wlefoodfie .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wlefoodfie .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wlefoodfie .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wlefoodfie .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wlefoodfie .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wlefoodfie .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wlefoodfie .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wlefoodfie .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wlefoodfie .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wlefoodfie .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wlefoodfie .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wlefoodfie .gt_spanner_row {
  border-bottom-style: hidden;
}

#wlefoodfie .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wlefoodfie .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wlefoodfie .gt_from_md > :first-child {
  margin-top: 0;
}

#wlefoodfie .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wlefoodfie .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wlefoodfie .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wlefoodfie .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wlefoodfie .gt_row_group_first td {
  border-top-width: 2px;
}

#wlefoodfie .gt_row_group_first th {
  border-top-width: 2px;
}

#wlefoodfie .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wlefoodfie .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wlefoodfie .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wlefoodfie .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wlefoodfie .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wlefoodfie .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wlefoodfie .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wlefoodfie .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wlefoodfie .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wlefoodfie .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wlefoodfie .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wlefoodfie .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wlefoodfie .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wlefoodfie .gt_left {
  text-align: left;
}

#wlefoodfie .gt_center {
  text-align: center;
}

#wlefoodfie .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wlefoodfie .gt_font_normal {
  font-weight: normal;
}

#wlefoodfie .gt_font_bold {
  font-weight: bold;
}

#wlefoodfie .gt_font_italic {
  font-style: italic;
}

#wlefoodfie .gt_super {
  font-size: 65%;
}

#wlefoodfie .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wlefoodfie .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wlefoodfie .gt_indent_1 {
  text-indent: 5px;
}

#wlefoodfie .gt_indent_2 {
  text-indent: 10px;
}

#wlefoodfie .gt_indent_3 {
  text-indent: 15px;
}

#wlefoodfie .gt_indent_4 {
  text-indent: 20px;
}

#wlefoodfie .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="brightest_10h_mean">brightest_10h_mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="brightest_10h_midpoint">brightest_10h_midpoint</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="brightest_10h_onset">brightest_10h_onset</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="brightest_10h_offset">brightest_10h_offset</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="brightest_10h_mean" class="gt_row gt_right">2506.202</td>
<td headers="brightest_10h_midpoint" class="gt_row gt_right">2023-08-15 13:42:01</td>
<td headers="brightest_10h_onset" class="gt_row gt_right">2023-08-15 08:42:11</td>
<td headers="brightest_10h_offset" class="gt_row gt_right">2023-08-15 18:42:01</td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="looping">Looping<a class="anchor" aria-label="anchor" href="#looping"></a>
</h4>
<p>Calculating the darkest period of the day is tricky, as it likely
traverses midnight. In the following code we can see that the darkest
10-hour period of day begins at midnight and ends at 10 am, which would
be very coincidental. (Note that commonly, the darkest 5-hour period is
calculated. We deviate from this to make this point.)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M10_wrong</span> <span class="op">&lt;-</span> </span>
<span><span class="fu"><a href="../reference/bright_dark_period.html">bright_dark_period</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  as.df <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  period <span class="op">=</span> <span class="st">"darkest"</span>,</span>
<span>  timespan <span class="op">=</span> <span class="st">"10 hours"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">M10_wrong</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="exombwkkeu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#exombwkkeu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#exombwkkeu thead, #exombwkkeu tbody, #exombwkkeu tfoot, #exombwkkeu tr, #exombwkkeu td, #exombwkkeu th {
  border-style: none;
}

#exombwkkeu p {
  margin: 0;
  padding: 0;
}

#exombwkkeu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#exombwkkeu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#exombwkkeu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#exombwkkeu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#exombwkkeu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#exombwkkeu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exombwkkeu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#exombwkkeu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#exombwkkeu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#exombwkkeu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#exombwkkeu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#exombwkkeu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#exombwkkeu .gt_spanner_row {
  border-bottom-style: hidden;
}

#exombwkkeu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#exombwkkeu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#exombwkkeu .gt_from_md > :first-child {
  margin-top: 0;
}

#exombwkkeu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#exombwkkeu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#exombwkkeu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#exombwkkeu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#exombwkkeu .gt_row_group_first td {
  border-top-width: 2px;
}

#exombwkkeu .gt_row_group_first th {
  border-top-width: 2px;
}

#exombwkkeu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#exombwkkeu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#exombwkkeu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#exombwkkeu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exombwkkeu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#exombwkkeu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#exombwkkeu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#exombwkkeu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#exombwkkeu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#exombwkkeu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#exombwkkeu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#exombwkkeu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#exombwkkeu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#exombwkkeu .gt_left {
  text-align: left;
}

#exombwkkeu .gt_center {
  text-align: center;
}

#exombwkkeu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#exombwkkeu .gt_font_normal {
  font-weight: normal;
}

#exombwkkeu .gt_font_bold {
  font-weight: bold;
}

#exombwkkeu .gt_font_italic {
  font-style: italic;
}

#exombwkkeu .gt_super {
  font-size: 65%;
}

#exombwkkeu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#exombwkkeu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#exombwkkeu .gt_indent_1 {
  text-indent: 5px;
}

#exombwkkeu .gt_indent_2 {
  text-indent: 10px;
}

#exombwkkeu .gt_indent_3 {
  text-indent: 15px;
}

#exombwkkeu .gt_indent_4 {
  text-indent: 20px;
}

#exombwkkeu .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_mean">darkest_10h_mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_midpoint">darkest_10h_midpoint</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_onset">darkest_10h_onset</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_offset">darkest_10h_offset</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="darkest_10h_mean" class="gt_row gt_right">305.2523</td>
<td headers="darkest_10h_midpoint" class="gt_row gt_right">2023-08-15 04:59:51</td>
<td headers="darkest_10h_onset" class="gt_row gt_right">2023-08-15 00:00:01</td>
<td headers="darkest_10h_offset" class="gt_row gt_right">2023-08-15 09:59:51</td>
</tr></tbody>
</table>
</div>
<p>We also see that this makes little sense, if we visualize this
portion. The yellow color indicates the darkest 10-hour period of the
day.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Onset</span> <span class="op">&lt;-</span> <span class="va">M10_wrong</span><span class="op">$</span><span class="va">darkest_10h_onset</span></span>
<span><span class="va">Offset</span> <span class="op">&lt;-</span> <span class="va">M10_wrong</span><span class="op">$</span><span class="va">darkest_10h_offset</span></span>
<span></span>
<span><span class="va">data_Id201</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gg_day.html">gg_day</a></span><span class="op">(</span>aes_col <span class="op">=</span> <span class="va">Datetime</span> <span class="op">&gt;=</span> <span class="va">Onset</span> <span class="op">&amp;</span> <span class="va">Datetime</span> <span class="op">&lt;=</span> <span class="va">Offset</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Metrics_files/figure-html/M10_wrong_plot-1.png" width="700"></p>
<p>To solve this, <code><a href="../reference/bright_dark_period.html">bright_dark_period()</a></code> and some other
functions have the option to <code>loop</code> the day.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M10</span> <span class="op">&lt;-</span> </span>
<span><span class="fu"><a href="../reference/bright_dark_period.html">bright_dark_period</a></span><span class="op">(</span></span>
<span>  Light.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">MEDI</span>,</span>
<span>  Time.vector <span class="op">=</span> <span class="va">data_Id201</span><span class="op">$</span><span class="va">Datetime</span>,</span>
<span>  as.df <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  period <span class="op">=</span> <span class="st">"darkest"</span>,</span>
<span>  timespan <span class="op">=</span> <span class="st">"10 hours"</span>,</span>
<span>  loop <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">M10</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="lbfdpbcyvk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lbfdpbcyvk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lbfdpbcyvk thead, #lbfdpbcyvk tbody, #lbfdpbcyvk tfoot, #lbfdpbcyvk tr, #lbfdpbcyvk td, #lbfdpbcyvk th {
  border-style: none;
}

#lbfdpbcyvk p {
  margin: 0;
  padding: 0;
}

#lbfdpbcyvk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lbfdpbcyvk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lbfdpbcyvk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lbfdpbcyvk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lbfdpbcyvk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbfdpbcyvk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbfdpbcyvk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lbfdpbcyvk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lbfdpbcyvk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lbfdpbcyvk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lbfdpbcyvk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lbfdpbcyvk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lbfdpbcyvk .gt_spanner_row {
  border-bottom-style: hidden;
}

#lbfdpbcyvk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lbfdpbcyvk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lbfdpbcyvk .gt_from_md > :first-child {
  margin-top: 0;
}

#lbfdpbcyvk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lbfdpbcyvk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lbfdpbcyvk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lbfdpbcyvk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lbfdpbcyvk .gt_row_group_first td {
  border-top-width: 2px;
}

#lbfdpbcyvk .gt_row_group_first th {
  border-top-width: 2px;
}

#lbfdpbcyvk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbfdpbcyvk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lbfdpbcyvk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lbfdpbcyvk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbfdpbcyvk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbfdpbcyvk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lbfdpbcyvk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lbfdpbcyvk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lbfdpbcyvk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lbfdpbcyvk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbfdpbcyvk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbfdpbcyvk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lbfdpbcyvk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lbfdpbcyvk .gt_left {
  text-align: left;
}

#lbfdpbcyvk .gt_center {
  text-align: center;
}

#lbfdpbcyvk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lbfdpbcyvk .gt_font_normal {
  font-weight: normal;
}

#lbfdpbcyvk .gt_font_bold {
  font-weight: bold;
}

#lbfdpbcyvk .gt_font_italic {
  font-style: italic;
}

#lbfdpbcyvk .gt_super {
  font-size: 65%;
}

#lbfdpbcyvk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lbfdpbcyvk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lbfdpbcyvk .gt_indent_1 {
  text-indent: 5px;
}

#lbfdpbcyvk .gt_indent_2 {
  text-indent: 10px;
}

#lbfdpbcyvk .gt_indent_3 {
  text-indent: 15px;
}

#lbfdpbcyvk .gt_indent_4 {
  text-indent: 20px;
}

#lbfdpbcyvk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_mean">darkest_10h_mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_midpoint">darkest_10h_midpoint</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_onset">darkest_10h_onset</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="darkest_10h_offset">darkest_10h_offset</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="darkest_10h_mean" class="gt_row gt_right">1.423622</td>
<td headers="darkest_10h_midpoint" class="gt_row gt_right">2023-08-15 01:36:51</td>
<td headers="darkest_10h_onset" class="gt_row gt_right">2023-08-15 20:37:01</td>
<td headers="darkest_10h_offset" class="gt_row gt_right">2023-08-15 06:36:51</td>
</tr></tbody>
</table>
</div>
<p>This is more plausible, and can also be visualized easily.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Onset</span> <span class="op">&lt;-</span> <span class="va">M10</span><span class="op">$</span><span class="va">darkest_10h_onset</span></span>
<span><span class="va">Offset</span> <span class="op">&lt;-</span> <span class="va">M10</span><span class="op">$</span><span class="va">darkest_10h_offset</span></span>
<span></span>
<span><span class="va">data_Id201</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gg_day.html">gg_day</a></span><span class="op">(</span>aes_col <span class="op">=</span> <span class="va">Datetime</span> <span class="op">&gt;=</span> <span class="va">Onset</span> <span class="op">|</span> <span class="va">Datetime</span> <span class="op">&lt;=</span> <span class="va">Offset</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Metrics_files/figure-html/M10_plot-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="metric-calculation-advanced">Metric calculation: advanced<a class="anchor" aria-label="anchor" href="#metric-calculation-advanced"></a>
</h2>
<p>More often than not, metrics are calculated for many participants
over prolonged periods of time. In this case, the singular calculation
as shown above is inefficient. The <code>dplyr</code> family of
<code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarize()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/reframe.html" class="external-link">dplyr::reframe()</a></code> make
this much easier.</p>
<div class="section level3">
<h3 id="preparation">Preparation<a class="anchor" aria-label="anchor" href="#preparation"></a>
</h3>
<p>As we only want to calculate metrics for days with full data, we will
exclude Mondays from the data set.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/weekday.POSIXt.html" class="external-link">weekdays</a></span><span class="op">(</span><span class="va">Datetime</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"Monday"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="summarize">Summarize<a class="anchor" aria-label="anchor" href="#summarize"></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarize()</a></code> function is used to calculate
metrics for each group of data. In the following example, we will
calculate Interdaily Stability (IS) for all participants in the data
set, giving us the variability of the 24h light exposure patterns across
the full 6 days of data compared to their average, ranging between 0
(Gaussian noise) and 1 (Perfect stability). For brevity, only the first
6 Ids will be shown.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    IS <span class="op">=</span> <span class="fu"><a href="../reference/interdaily_stability.html">interdaily_stability</a></span><span class="op">(</span></span>
<span>      Light.vector <span class="op">=</span> <span class="va">MEDI</span>,</span>
<span>      Datetime.vector <span class="op">=</span> <span class="va">Datetime</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div id="gufivjubqt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gufivjubqt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gufivjubqt thead, #gufivjubqt tbody, #gufivjubqt tfoot, #gufivjubqt tr, #gufivjubqt td, #gufivjubqt th {
  border-style: none;
}

#gufivjubqt p {
  margin: 0;
  padding: 0;
}

#gufivjubqt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gufivjubqt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gufivjubqt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gufivjubqt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gufivjubqt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gufivjubqt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gufivjubqt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gufivjubqt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gufivjubqt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gufivjubqt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gufivjubqt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gufivjubqt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gufivjubqt .gt_spanner_row {
  border-bottom-style: hidden;
}

#gufivjubqt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gufivjubqt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gufivjubqt .gt_from_md > :first-child {
  margin-top: 0;
}

#gufivjubqt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gufivjubqt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gufivjubqt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gufivjubqt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gufivjubqt .gt_row_group_first td {
  border-top-width: 2px;
}

#gufivjubqt .gt_row_group_first th {
  border-top-width: 2px;
}

#gufivjubqt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gufivjubqt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gufivjubqt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gufivjubqt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gufivjubqt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gufivjubqt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gufivjubqt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gufivjubqt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gufivjubqt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gufivjubqt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gufivjubqt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gufivjubqt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gufivjubqt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gufivjubqt .gt_left {
  text-align: left;
}

#gufivjubqt .gt_center {
  text-align: center;
}

#gufivjubqt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gufivjubqt .gt_font_normal {
  font-weight: normal;
}

#gufivjubqt .gt_font_bold {
  font-weight: bold;
}

#gufivjubqt .gt_font_italic {
  font-style: italic;
}

#gufivjubqt .gt_super {
  font-size: 65%;
}

#gufivjubqt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gufivjubqt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gufivjubqt .gt_indent_1 {
  text-indent: 5px;
}

#gufivjubqt .gt_indent_2 {
  text-indent: 10px;
}

#gufivjubqt .gt_indent_3 {
  text-indent: 15px;
}

#gufivjubqt .gt_indent_4 {
  text-indent: 20px;
}

#gufivjubqt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Id">Id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="IS">IS</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="Id" class="gt_row gt_center">201</td>
<td headers="IS" class="gt_row gt_right">0.5263723</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">202</td>
<td headers="IS" class="gt_row gt_right">0.2058065</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">204</td>
<td headers="IS" class="gt_row gt_right">0.2759852</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">205</td>
<td headers="IS" class="gt_row gt_right">0.3332044</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">206</td>
<td headers="IS" class="gt_row gt_right">0.2453059</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">208</td>
<td headers="IS" class="gt_row gt_right">0.2007277</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="grouping">Grouping<a class="anchor" aria-label="anchor" href="#grouping"></a>
</h3>
<p>By default, data imported with <code>LightLogR</code> is grouped by
<code>Id</code>, which represents individual participants. When using
the <code>dplyr</code> family of functions, grouping is essential, as it
specifies the subgroups of data for which the metrics are calculated. In
the following example, we will calculate the TAT 250 lx MEDI for all
participants in the data set. We only show the first 6 participants, as
it becomes readily apparent that time above threshold for 6 days might
not be the most informative parametrization of the metric.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    TAT_250 <span class="op">=</span> <span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span></span>
<span>      Light.vector <span class="op">=</span> <span class="va">MEDI</span>,</span>
<span>      Time.vector <span class="op">=</span> <span class="va">Datetime</span>,</span>
<span>      threshold <span class="op">=</span> <span class="fl">250</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="xvafbsnayo" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xvafbsnayo table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xvafbsnayo thead, #xvafbsnayo tbody, #xvafbsnayo tfoot, #xvafbsnayo tr, #xvafbsnayo td, #xvafbsnayo th {
  border-style: none;
}

#xvafbsnayo p {
  margin: 0;
  padding: 0;
}

#xvafbsnayo .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xvafbsnayo .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xvafbsnayo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xvafbsnayo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xvafbsnayo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xvafbsnayo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xvafbsnayo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xvafbsnayo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xvafbsnayo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xvafbsnayo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xvafbsnayo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xvafbsnayo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xvafbsnayo .gt_spanner_row {
  border-bottom-style: hidden;
}

#xvafbsnayo .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xvafbsnayo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xvafbsnayo .gt_from_md > :first-child {
  margin-top: 0;
}

#xvafbsnayo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xvafbsnayo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xvafbsnayo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xvafbsnayo .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xvafbsnayo .gt_row_group_first td {
  border-top-width: 2px;
}

#xvafbsnayo .gt_row_group_first th {
  border-top-width: 2px;
}

#xvafbsnayo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvafbsnayo .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xvafbsnayo .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xvafbsnayo .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xvafbsnayo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvafbsnayo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xvafbsnayo .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xvafbsnayo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xvafbsnayo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xvafbsnayo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xvafbsnayo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvafbsnayo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xvafbsnayo .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xvafbsnayo .gt_left {
  text-align: left;
}

#xvafbsnayo .gt_center {
  text-align: center;
}

#xvafbsnayo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xvafbsnayo .gt_font_normal {
  font-weight: normal;
}

#xvafbsnayo .gt_font_bold {
  font-weight: bold;
}

#xvafbsnayo .gt_font_italic {
  font-style: italic;
}

#xvafbsnayo .gt_super {
  font-size: 65%;
}

#xvafbsnayo .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xvafbsnayo .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xvafbsnayo .gt_indent_1 {
  text-indent: 5px;
}

#xvafbsnayo .gt_indent_2 {
  text-indent: 10px;
}

#xvafbsnayo .gt_indent_3 {
  text-indent: 15px;
}

#xvafbsnayo .gt_indent_4 {
  text-indent: 20px;
}

#xvafbsnayo .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Id">Id</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="TAT_250">TAT_250</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="Id" class="gt_row gt_center">201</td>
<td headers="TAT_250" class="gt_row gt_center">160180s (~1.85 days)</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">202</td>
<td headers="TAT_250" class="gt_row gt_center">29970s (~8.32 hours)</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">204</td>
<td headers="TAT_250" class="gt_row gt_center">147340s (~1.71 days)</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">205</td>
<td headers="TAT_250" class="gt_row gt_center">98520s (~1.14 days)</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">206</td>
<td headers="TAT_250" class="gt_row gt_center">6320s (~1.76 hours)</td>
</tr>
<tr>
<td headers="Id" class="gt_row gt_center">208</td>
<td headers="TAT_250" class="gt_row gt_center">47140s (~13.09 hours)</td>
</tr>
</tbody>
</table>
</div>
<p>Instead, we can calculate the TAT 250 lx MEDI for each participant
<strong>and day</strong> of data. This is more informative, as it allows
us to see how the metric changes over time. The final output is for the
first two Ids.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#create a new column in the data set with the weekday</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">wDay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/day.html" class="external-link">wday</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Datetime</span>, label <span class="op">=</span> <span class="cn">TRUE</span>, week_start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#group the data and calculate the metrics</span></span>
<span><span class="va">TAT_250</span> <span class="op">&lt;-</span> </span>
<span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">wDay</span>, .add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    TAT_250 <span class="op">=</span> <span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span></span>
<span>      Light.vector <span class="op">=</span> <span class="va">MEDI</span>,</span>
<span>      Time.vector <span class="op">=</span> <span class="va">Datetime</span>,</span>
<span>      threshold <span class="op">=</span> <span class="fl">250</span></span>
<span>    <span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop_last"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">TAT_250</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="rehalspkzc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#rehalspkzc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rehalspkzc thead, #rehalspkzc tbody, #rehalspkzc tfoot, #rehalspkzc tr, #rehalspkzc td, #rehalspkzc th {
  border-style: none;
}

#rehalspkzc p {
  margin: 0;
  padding: 0;
}

#rehalspkzc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rehalspkzc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rehalspkzc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rehalspkzc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rehalspkzc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rehalspkzc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehalspkzc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rehalspkzc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rehalspkzc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rehalspkzc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rehalspkzc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rehalspkzc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rehalspkzc .gt_spanner_row {
  border-bottom-style: hidden;
}

#rehalspkzc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rehalspkzc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rehalspkzc .gt_from_md > :first-child {
  margin-top: 0;
}

#rehalspkzc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rehalspkzc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rehalspkzc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rehalspkzc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rehalspkzc .gt_row_group_first td {
  border-top-width: 2px;
}

#rehalspkzc .gt_row_group_first th {
  border-top-width: 2px;
}

#rehalspkzc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehalspkzc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rehalspkzc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rehalspkzc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehalspkzc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehalspkzc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rehalspkzc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rehalspkzc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rehalspkzc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rehalspkzc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rehalspkzc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehalspkzc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rehalspkzc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rehalspkzc .gt_left {
  text-align: left;
}

#rehalspkzc .gt_center {
  text-align: center;
}

#rehalspkzc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rehalspkzc .gt_font_normal {
  font-weight: normal;
}

#rehalspkzc .gt_font_bold {
  font-weight: bold;
}

#rehalspkzc .gt_font_italic {
  font-style: italic;
}

#rehalspkzc .gt_super {
  font-size: 65%;
}

#rehalspkzc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rehalspkzc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rehalspkzc .gt_indent_1 {
  text-indent: 5px;
}

#rehalspkzc .gt_indent_2 {
  text-indent: 10px;
}

#rehalspkzc .gt_indent_3 {
  text-indent: 15px;
}

#rehalspkzc .gt_indent_4 {
  text-indent: 20px;
}

#rehalspkzc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="wDay">wDay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="TAT_250">TAT_250</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="2" class="gt_group_heading" scope="colgroup" id="201">201</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="201  wDay" class="gt_row gt_center">Tue</td>
<td headers="201  TAT_250" class="gt_row gt_center">34500s (~9.58 hours)</td>
</tr>
<tr>
<td headers="201  wDay" class="gt_row gt_center">Wed</td>
<td headers="201  TAT_250" class="gt_row gt_center">32780s (~9.11 hours)</td>
</tr>
<tr>
<td headers="201  wDay" class="gt_row gt_center">Thu</td>
<td headers="201  TAT_250" class="gt_row gt_center">21820s (~6.06 hours)</td>
</tr>
<tr>
<td headers="201  wDay" class="gt_row gt_center">Fri</td>
<td headers="201  TAT_250" class="gt_row gt_center">31670s (~8.8 hours)</td>
</tr>
<tr>
<td headers="201  wDay" class="gt_row gt_center">Sat</td>
<td headers="201  TAT_250" class="gt_row gt_center">15010s (~4.17 hours)</td>
</tr>
<tr>
<td headers="201  wDay" class="gt_row gt_center">Sun</td>
<td headers="201  TAT_250" class="gt_row gt_center">24400s (~6.78 hours)</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="2" class="gt_group_heading" scope="colgroup" id="202">202</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="202  wDay" class="gt_row gt_center">Tue</td>
<td headers="202  TAT_250" class="gt_row gt_center">18760s (~5.21 hours)</td>
</tr>
<tr>
<td headers="202  wDay" class="gt_row gt_center">Wed</td>
<td headers="202  TAT_250" class="gt_row gt_center">6930s (~1.93 hours)</td>
</tr>
<tr>
<td headers="202  wDay" class="gt_row gt_center">Thu</td>
<td headers="202  TAT_250" class="gt_row gt_center">200s (~3.33 minutes)</td>
</tr>
<tr>
<td headers="202  wDay" class="gt_row gt_center">Fri</td>
<td headers="202  TAT_250" class="gt_row gt_center">200s (~3.33 minutes)</td>
</tr>
<tr>
<td headers="202  wDay" class="gt_row gt_center">Sat</td>
<td headers="202  TAT_250" class="gt_row gt_center">3130s (~52.17 minutes)</td>
</tr>
<tr>
<td headers="202  wDay" class="gt_row gt_center">Sun</td>
<td headers="202  TAT_250" class="gt_row gt_center">750s (~12.5 minutes)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="metric-statistics">Metric statistics<a class="anchor" aria-label="anchor" href="#metric-statistics"></a>
</h3>
<p>With the dataframe <code>TAT_250</code>, we can easily calculate
statistics for each participant. This can be done manually, e.g., with
another call to <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">dplyr::summarize()</a></code>, or semi-automatic,
e.g., with packages like <code>gtsummary</code>. In the following
example, we will calculate the mean and standard deviation of the TAT
250 lx MEDI for each participant, formatted as <code>HH:SS</code>
through a styling function.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#styling formula for time</span></span>
<span><span class="va">style_time</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">format</span> <span class="op">=</span> <span class="st">"%H:%M"</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/hms.html" class="external-link">as_hms</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXlt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">format</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#Table output</span></span>
<span><span class="va">TAT_250</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html" class="external-link">tbl_summary</a></span><span class="op">(</span>by <span class="op">=</span> <span class="va">Id</span>, include <span class="op">=</span> <span class="op">-</span><span class="va">wDay</span>, </span>
<span>              statistic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">TAT_250</span> <span class="op">~</span> <span class="st">"{mean} ({sd})"</span><span class="op">)</span>, </span>
<span>              digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">TAT_250</span> <span class="op">~</span> <span class="va">style_time</span><span class="op">)</span>,</span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TAT_250 <span class="op">=</span> <span class="st">"Time above 250 lx mel EDI"</span><span class="op">)</span></span>
<span>              <span class="op">)</span></span></code></pre></div>
<div id="bwjcfdjagf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bwjcfdjagf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bwjcfdjagf thead, #bwjcfdjagf tbody, #bwjcfdjagf tfoot, #bwjcfdjagf tr, #bwjcfdjagf td, #bwjcfdjagf th {
  border-style: none;
}

#bwjcfdjagf p {
  margin: 0;
  padding: 0;
}

#bwjcfdjagf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bwjcfdjagf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bwjcfdjagf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bwjcfdjagf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bwjcfdjagf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bwjcfdjagf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bwjcfdjagf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bwjcfdjagf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bwjcfdjagf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bwjcfdjagf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bwjcfdjagf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bwjcfdjagf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bwjcfdjagf .gt_spanner_row {
  border-bottom-style: hidden;
}

#bwjcfdjagf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bwjcfdjagf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bwjcfdjagf .gt_from_md > :first-child {
  margin-top: 0;
}

#bwjcfdjagf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bwjcfdjagf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bwjcfdjagf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bwjcfdjagf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bwjcfdjagf .gt_row_group_first td {
  border-top-width: 2px;
}

#bwjcfdjagf .gt_row_group_first th {
  border-top-width: 2px;
}

#bwjcfdjagf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bwjcfdjagf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bwjcfdjagf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bwjcfdjagf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bwjcfdjagf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bwjcfdjagf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bwjcfdjagf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bwjcfdjagf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bwjcfdjagf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bwjcfdjagf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bwjcfdjagf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bwjcfdjagf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bwjcfdjagf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bwjcfdjagf .gt_left {
  text-align: left;
}

#bwjcfdjagf .gt_center {
  text-align: center;
}

#bwjcfdjagf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bwjcfdjagf .gt_font_normal {
  font-weight: normal;
}

#bwjcfdjagf .gt_font_bold {
  font-weight: bold;
}

#bwjcfdjagf .gt_font_italic {
  font-style: italic;
}

#bwjcfdjagf .gt_super {
  font-size: 65%;
}

#bwjcfdjagf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bwjcfdjagf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bwjcfdjagf .gt_indent_1 {
  text-indent: 5px;
}

#bwjcfdjagf .gt_indent_2 {
  text-indent: 10px;
}

#bwjcfdjagf .gt_indent_3 {
  text-indent: 15px;
}

#bwjcfdjagf .gt_indent_4 {
  text-indent: 20px;
}

#bwjcfdjagf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="&lt;strong&gt;Characteristic&lt;/strong&gt;"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;201&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>201</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;202&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>202</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;204&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>204</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;205&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>205</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;206&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>206</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;208&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>208</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;209&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>209</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;210&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>210</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;212&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>212</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;213&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>213</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;214&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>214</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;215&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>215</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;216&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>216</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;218&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>218</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;219&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>219</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;221&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>221</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;222&lt;/strong&gt;, N = 6&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>222</strong>, N = 6<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="label" class="gt_row gt_left">Time above 250 lx mel EDI</td>
<td headers="stat_1" class="gt_row gt_center">07:24 (02:06)</td>
<td headers="stat_2" class="gt_row gt_center">01:23 (02:00)</td>
<td headers="stat_3" class="gt_row gt_center">06:49 (01:17)</td>
<td headers="stat_4" class="gt_row gt_center">04:33 (02:20)</td>
<td headers="stat_5" class="gt_row gt_center">00:17 (00:24)</td>
<td headers="stat_6" class="gt_row gt_center">02:10 (01:06)</td>
<td headers="stat_7" class="gt_row gt_center">04:07 (02:30)</td>
<td headers="stat_8" class="gt_row gt_center">08:39 (01:16)</td>
<td headers="stat_9" class="gt_row gt_center">04:50 (01:27)</td>
<td headers="stat_10" class="gt_row gt_center">02:33 (00:52)</td>
<td headers="stat_11" class="gt_row gt_center">04:38 (01:51)</td>
<td headers="stat_12" class="gt_row gt_center">02:06 (01:17)</td>
<td headers="stat_13" class="gt_row gt_center">04:07 (00:57)</td>
<td headers="stat_14" class="gt_row gt_center">01:26 (01:17)</td>
<td headers="stat_15" class="gt_row gt_center">02:45 (00:51)</td>
<td headers="stat_16" class="gt_row gt_center">01:00 (00:57)</td>
<td headers="stat_17" class="gt_row gt_center">00:33 (00:43)</td>
</tr></tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="18">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Mean (SD)</td>
    </tr></tfoot>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="metric-calculation-batch">Metric calculation: batch<a class="anchor" aria-label="anchor" href="#metric-calculation-batch"></a>
</h2>
<p>In the final section, we will add more metrics to the analysis,
including ones with multiple submetrics. Further, the let us imagine we
wand to know how these metrics change from the first half of the
experiment (August/September) to the second half (October/November).
Finally, we will include a column <code>Time.data</code> to the data
set, which will be used to calculate the metrics. This avoids</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Month <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">Datetime</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">8</span><span class="op">:</span><span class="fl">9</span> <span class="op">~</span> <span class="st">"Aug/Sep"</span>,</span>
<span>                      <span class="fu"><a href="https://lubridate.tidyverse.org/reference/month.html" class="external-link">month</a></span><span class="op">(</span><span class="va">Datetime</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">10</span><span class="op">:</span><span class="fl">11</span> <span class="op">~</span> <span class="st">"Oct/Nov"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/create_Timedata.html">create_Timedata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">metrics</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Month</span>, <span class="va">Id</span>, <span class="va">wDay</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    MLIT250 <span class="op">=</span> </span>
<span>      <span class="fu"><a href="../reference/timing_above_threshold.html">timing_above_threshold</a></span><span class="op">(</span><span class="va">MEDI</span>, <span class="va">Time.data</span>, threshold <span class="op">=</span> <span class="fl">250</span>, as.df <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    TAT250 <span class="op">=</span> </span>
<span>      <span class="fu"><a href="../reference/duration_above_threshold.html">duration_above_threshold</a></span><span class="op">(</span><span class="va">MEDI</span>, <span class="va">Time.data</span>, threshold <span class="op">=</span> <span class="fl">250</span>, as.df <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    average_MEDI <span class="op">=</span> </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">MEDI</span><span class="op">)</span>,</span>
<span>    light_exposure <span class="op">=</span> </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">MEDI</span><span class="op">)</span><span class="op">/</span><span class="fl">360</span>, <span class="co"># 10 second epochs means 360 epochs in one hour. dividing by 360 gives the light exposure in lx·h</span></span>
<span>    .groups <span class="op">=</span> <span class="st">"drop_last"</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="op">-</span><span class="va">Id</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#first 6 rows</span></span>
<span><span class="va">metrics</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="udacgqflgk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#udacgqflgk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#udacgqflgk thead, #udacgqflgk tbody, #udacgqflgk tfoot, #udacgqflgk tr, #udacgqflgk td, #udacgqflgk th {
  border-style: none;
}

#udacgqflgk p {
  margin: 0;
  padding: 0;
}

#udacgqflgk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#udacgqflgk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#udacgqflgk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#udacgqflgk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#udacgqflgk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#udacgqflgk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#udacgqflgk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#udacgqflgk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#udacgqflgk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#udacgqflgk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#udacgqflgk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#udacgqflgk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#udacgqflgk .gt_spanner_row {
  border-bottom-style: hidden;
}

#udacgqflgk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#udacgqflgk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#udacgqflgk .gt_from_md > :first-child {
  margin-top: 0;
}

#udacgqflgk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#udacgqflgk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#udacgqflgk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#udacgqflgk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#udacgqflgk .gt_row_group_first td {
  border-top-width: 2px;
}

#udacgqflgk .gt_row_group_first th {
  border-top-width: 2px;
}

#udacgqflgk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#udacgqflgk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#udacgqflgk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#udacgqflgk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#udacgqflgk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#udacgqflgk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#udacgqflgk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#udacgqflgk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#udacgqflgk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#udacgqflgk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#udacgqflgk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#udacgqflgk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#udacgqflgk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#udacgqflgk .gt_left {
  text-align: left;
}

#udacgqflgk .gt_center {
  text-align: center;
}

#udacgqflgk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#udacgqflgk .gt_font_normal {
  font-weight: normal;
}

#udacgqflgk .gt_font_bold {
  font-weight: bold;
}

#udacgqflgk .gt_font_italic {
  font-style: italic;
}

#udacgqflgk .gt_super {
  font-size: 65%;
}

#udacgqflgk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#udacgqflgk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#udacgqflgk .gt_indent_1 {
  text-indent: 5px;
}

#udacgqflgk .gt_indent_2 {
  text-indent: 10px;
}

#udacgqflgk .gt_indent_3 {
  text-indent: 15px;
}

#udacgqflgk .gt_indent_4 {
  text-indent: 20px;
}

#udacgqflgk .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="wDay">wDay</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="mean_timing_above_250">mean_timing_above_250</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="first_timing_above_250">first_timing_above_250</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="last_timing_above_250">last_timing_above_250</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="duration_above_250">duration_above_250</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="average_MEDI">average_MEDI</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="light_exposure">light_exposure</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="7" class="gt_group_heading" scope="colgroup" id="Aug/Sep - 201">Aug/Sep - 201</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Tue</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">13:55:49</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">07:48:01</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">19:43:41</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">34500s (~9.58 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">1094.7256</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">26273.415</td>
</tr>
<tr>
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Wed</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">12:53:04</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">07:03:01</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">19:46:41</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">32780s (~9.11 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">772.7199</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">18545.278</td>
</tr>
<tr>
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Thu</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">14:25:57</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">08:41:11</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">19:27:11</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">21820s (~6.06 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">263.1571</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">6315.771</td>
</tr>
<tr>
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Fri</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">13:12:42</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">07:14:41</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">18:51:21</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">31670s (~8.8 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">829.2784</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">19902.681</td>
</tr>
<tr>
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Sat</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">11:29:02</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">07:08:41</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">20:40:41</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">15010s (~4.17 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">559.5345</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">13428.829</td>
</tr>
<tr>
<td headers="Aug/Sep - 201  wDay" class="gt_row gt_center">Sun</td>
<td headers="Aug/Sep - 201  mean_timing_above_250" class="gt_row gt_center">12:46:28</td>
<td headers="Aug/Sep - 201  first_timing_above_250" class="gt_row gt_center">07:23:01</td>
<td headers="Aug/Sep - 201  last_timing_above_250" class="gt_row gt_center">19:12:21</td>
<td headers="Aug/Sep - 201  duration_above_250" class="gt_row gt_center">24400s (~6.78 hours)</td>
<td headers="Aug/Sep - 201  average_MEDI" class="gt_row gt_right">183.3234</td>
<td headers="Aug/Sep - 201  light_exposure" class="gt_row gt_right">4399.761</td>
</tr>
</tbody>
</table>
</div>
<p>The operation above yields a dataframe with 6 metrics across 102
participant days (6 days for 17 participants). The grouping for
<code>Month</code> did not add additional groups, as each participant
day is already solely either in the <code>"Aug/Sep"</code> or
<code>"Oct/Nov"</code> group. Next we will regroup the data by
<code>Month</code> and look at a summary table similar to above, but for
more metrics.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metrics</span> <span class="op">&lt;-</span> <span class="va">metrics</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Month</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">Id</span>, <span class="op">-</span><span class="va">wDay</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Table output</span></span>
<span><span class="va">metrics</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html" class="external-link">tbl_summary</a></span><span class="op">(</span>by <span class="op">=</span> <span class="va">Month</span>,</span>
<span>              statistic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/select_helpers.html" class="external-link">all_continuous</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="st">"{mean} (±{sd})"</span><span class="op">)</span>,</span>
<span>              digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>                  <span class="va">mean_timing_above_250</span>, <span class="va">first_timing_above_250</span>, </span>
<span>                  <span class="va">last_timing_above_250</span>, <span class="va">duration_above_250</span></span>
<span>                  <span class="op">)</span> <span class="op">~</span> <span class="va">style_time</span><span class="op">)</span>,</span>
<span>              label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                mean_timing_above_250 <span class="op">=</span> </span>
<span>                  <span class="st">"mean timing above 250 lx mel EDI (HH:MM)"</span>,</span>
<span>                first_timing_above_250 <span class="op">=</span> </span>
<span>                  <span class="st">"first time above 250 lx mel EDI (HH:MM)"</span>,</span>
<span>                last_timing_above_250 <span class="op">=</span> </span>
<span>                  <span class="st">"last time above 250 lx mel EDI (HH:MM)"</span>,</span>
<span>                duration_above_250 <span class="op">=</span> <span class="st">"duration above 250 lx mel EDI (HH:MM)"</span>,</span>
<span>                average_MEDI <span class="op">=</span> <span class="st">"average mel EDI (lx)"</span>,</span>
<span>                light_exposure <span class="op">=</span> <span class="st">"light exposure (lx·h)"</span></span>
<span>                <span class="op">)</span></span>
<span>              <span class="op">)</span></span></code></pre></div>
<div id="jhvqltorlv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jhvqltorlv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jhvqltorlv thead, #jhvqltorlv tbody, #jhvqltorlv tfoot, #jhvqltorlv tr, #jhvqltorlv td, #jhvqltorlv th {
  border-style: none;
}

#jhvqltorlv p {
  margin: 0;
  padding: 0;
}

#jhvqltorlv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jhvqltorlv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jhvqltorlv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jhvqltorlv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jhvqltorlv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhvqltorlv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhvqltorlv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jhvqltorlv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jhvqltorlv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jhvqltorlv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jhvqltorlv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jhvqltorlv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jhvqltorlv .gt_spanner_row {
  border-bottom-style: hidden;
}

#jhvqltorlv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jhvqltorlv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jhvqltorlv .gt_from_md > :first-child {
  margin-top: 0;
}

#jhvqltorlv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jhvqltorlv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jhvqltorlv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jhvqltorlv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jhvqltorlv .gt_row_group_first td {
  border-top-width: 2px;
}

#jhvqltorlv .gt_row_group_first th {
  border-top-width: 2px;
}

#jhvqltorlv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhvqltorlv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jhvqltorlv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jhvqltorlv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhvqltorlv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhvqltorlv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jhvqltorlv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jhvqltorlv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jhvqltorlv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jhvqltorlv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhvqltorlv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhvqltorlv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jhvqltorlv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jhvqltorlv .gt_left {
  text-align: left;
}

#jhvqltorlv .gt_center {
  text-align: center;
}

#jhvqltorlv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jhvqltorlv .gt_font_normal {
  font-weight: normal;
}

#jhvqltorlv .gt_font_bold {
  font-weight: bold;
}

#jhvqltorlv .gt_font_italic {
  font-style: italic;
}

#jhvqltorlv .gt_super {
  font-size: 65%;
}

#jhvqltorlv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jhvqltorlv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jhvqltorlv .gt_indent_1 {
  text-indent: 5px;
}

#jhvqltorlv .gt_indent_2 {
  text-indent: 10px;
}

#jhvqltorlv .gt_indent_3 {
  text-indent: 15px;
}

#jhvqltorlv .gt_indent_4 {
  text-indent: 20px;
}

#jhvqltorlv .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="&lt;strong&gt;Characteristic&lt;/strong&gt;"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;Aug/Sep&lt;/strong&gt;, N = 65&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>Aug/Sep</strong>, N = 65<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id='&lt;strong&gt;Oct/Nov&lt;/strong&gt;, N = 37&lt;span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/span&gt;'>
<strong>Oct/Nov</strong>, N = 37<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left">mean timing above 250 lx mel EDI (HH:MM)</td>
<td headers="stat_1" class="gt_row gt_center">13:39 (±01:43)</td>
<td headers="stat_2" class="gt_row gt_center">14:03 (±01:41)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">first time above 250 lx mel EDI (HH:MM)</td>
<td headers="stat_1" class="gt_row gt_center">08:48 (±02:26)</td>
<td headers="stat_2" class="gt_row gt_center">10:14 (±02:20)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">last time above 250 lx mel EDI (HH:MM)</td>
<td headers="stat_1" class="gt_row gt_center">19:09 (±02:20)</td>
<td headers="stat_2" class="gt_row gt_center">18:21 (±02:26)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">duration above 250 lx mel EDI (HH:MM)</td>
<td headers="stat_1" class="gt_row gt_center">04:19 (±02:57)</td>
<td headers="stat_2" class="gt_row gt_center">02:02 (±01:32)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">average mel EDI (lx)</td>
<td headers="stat_1" class="gt_row gt_center">535 (±505)</td>
<td headers="stat_2" class="gt_row gt_center">234 (±276)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">light exposure (lx·h)</td>
<td headers="stat_1" class="gt_row gt_center">12,846 (±12,122)</td>
<td headers="stat_2" class="gt_row gt_center">5,618 (±6,612)</td>
</tr>
</tbody>
<tfoot class="gt_footnotes"><tr>
<td class="gt_footnote" colspan="3">
<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> Mean (±SD)</td>
    </tr></tfoot>
</table>
</div>
<p>And that is all you need to work with metrics in
<code>LightLogR</code>. Be sure to look at the documentation for each
function to understand the parameters and outputs, and at the <a href="https://tscnlab.github.io/LightLogR/reference/index.html#metrics">reference
section</a> to get an overview of all available metrics.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Zauner, Manuel Spitschan, Steffen Hartmeyer, MeLiDos, EURAMET, European Union.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
