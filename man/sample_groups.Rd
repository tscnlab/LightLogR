% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sample_groups.R
\name{sample_groups}
\alias{sample_groups}
\title{Sample groups from a grouped dataset}
\usage{
sample_groups(
  dataset,
  n = 1,
  sample = c("random", "top", "bottom"),
  order.by = dplyr::cur_group_id(),
  condition = NULL
)
}
\arguments{
\item{dataset}{A grouped dataset. Expects a data frame grouped with
\code{\link[dplyr:dplyr-package]{dplyr::group_by()}}.}

\item{n}{Number (or vector of positions) of groups to return. Defaults to 1.
Ignored when \code{condition} is supplied and \code{n} is \code{NULL}.}

\item{sample}{Sampling strategy. Must be one of \code{"random"}, \code{"top"}, or
\code{"bottom"}. When \code{condition} is provided, the \code{sample} value is ignored and
conditional filtering is applied instead.}

\item{order.by}{Expression used to order groups when \code{sample} is set to
\code{"top"} or \code{"bottom"}. Evaluated in a one-row summary for each group.
Defaults to \code{\link[dplyr:dplyr-package]{dplyr::cur_group_id()}}, i.e., the group number.}

\item{condition}{Logical expression used to filter the summarised groups.
Evaluated in a one-row summary for each group, which includes an
\code{.order_value} column derived from \code{order.by}.}
}
\value{
A grouped tibble containing only the sampled groups.
}
\description{
This helper selects a subset of groups from a grouped dataset. Groups can be
 drawn randomly, by ordering groups from the top or bottom according to a
 summary expression, or by filtering with a custom condition. The function is
 designed to work with datasets that were grouped using
 \code{\link[dplyr:dplyr-package]{dplyr::group_by()}}.
}
\examples{
sample.data.environment |>
  dplyr::group_by(Id) |>
  sample_groups()

sample.data.environment |>
  dplyr::group_by(Id) |>
  sample_groups(sample = "top", order.by = mean(MEDI))

sample.data.environment |>
  dplyr::group_by(Id) |>
  sample_groups(condition = mean(MEDI, na.rm = TRUE) > 100)
}
