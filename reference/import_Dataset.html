<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Imports a dataset and does the necessary transformations to get the right
column formats. Unless specified otherwise, the function will set the
timezone of the data to UTC. It will also enforce an Id to separate
different datasets and will order/arrange the dataset within each Id by
Datetime. See the Details and Devices section for more information and the
full list of arguments."><title>Import a light logger dataset or related data — import_Dataset • LightLogR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import a light logger dataset or related data — import_Dataset"><meta property="og:description" content="Imports a dataset and does the necessary transformations to get the right
column formats. Unless specified otherwise, the function will set the
timezone of the data to UTC. It will also enforce an Id to separate
different datasets and will order/arrange the dataset within each Id by
Datetime. See the Details and Devices section for more information and the
full list of arguments."><meta property="og:image" content="https://tscnlab.github.io/LightLogR/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">LightLogR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Day.html">What's in a Day?</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tscnlab/LightLogR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import a light logger dataset or related data</h1>
      <small class="dont-index">Source: <a href="https://github.com/tscnlab/LightLogR/blob/HEAD/R/import_LL.R" class="external-link"><code>R/import_LL.R</code></a></small>
      <div class="d-none name"><code>import_Dataset.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Imports a dataset and does the necessary transformations to get the right
column formats. Unless specified otherwise, the function will set the
timezone of the data to <code>UTC</code>. It will also enforce an <code>Id</code> to separate
different datasets and will order/arrange the dataset within each <code>Id</code> by
Datetime. See the Details and Devices section for more information and the
full list of arguments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_Dataset</span><span class="op">(</span><span class="va">device</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="va">import</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>An object of class <code>list</code> of length 10.</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>device</dt>
<dd><p>From what device do you want to import? For a few devices,
there is a sample data file that you can use to test the function (see the
examples). See <a href="supported.devices.html">supported.devices</a> for a list of supported devices and see
below for more information on devices with specific requirements.</p></dd>


<dt>...</dt>
<dd><p>Parameters that get handed down to the specific import functions</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Tibble/Dataframe with a POSIXct column for the datetime</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are specific and a general import function. The general import function
is described below, whereas the specific import functions take the form of
<code>import$device()</code>. The general import function is a thin wrapper around the
specific import functions. The specific import functions take the following
arguments:</p><ul><li><p><code>filename</code>: Filename(s) for the Dataset. Can also contain the filepath,
but <code>path</code> must then be <code>NULL</code>. Expects a <code>character</code>. If the vector is
longer than <code>1</code>, multiple files will be read in into one Tibble.</p></li>
<li><p><code>path</code>: Optional path for the dataset(s). <code>NULL</code> is the default. Expects
a <code>character</code>.</p></li>
<li><p><code>n_max</code>: maximum number of lines to read. Default is <code>Inf</code>.</p></li>
<li><p><code>tz</code>: Timezone of the data. <code>"UTC"</code> is the default. Expects a
<code>character</code>. You can look up the supported timezones with <code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">OlsonNames()</a></code>.</p></li>
<li><p><code>Id.colname</code>: Lets you specify a column for the id of a dataset. Expects a
symbol (Default is <code>Id</code>). This column will be used for grouping
(<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by()</a></code>).</p></li>
<li><p><code>auto.id</code>: If the <code>Id.colname</code> column is not part of the <code>dataset</code>, the <code>Id</code>
can be automatically extracted from the filename. The argument expects a
regular expression <a href="https://rdrr.io/r/base/regex.html" class="external-link">regex</a> and will by default just give the whole filename
without file extension.</p></li>
<li><p><code>manual.id</code>: If this argument is not <code>NULL</code>, and no <code>Id</code> column is part
of the <code>dataset</code>, this <code>character</code> scalar will be used. <strong>We discourage the
use of this arguments when importing more than one file</strong></p></li>
<li><p><code>locale</code>: The locale controls defaults that vary from place to place.</p></li>
<li><p><code>dst_adjustment</code>: If a file crosses daylight savings time, but the device does not adjust time stamps accordingly, you can set this argument to <code>TRUE</code>, to apply this shift manually. It is selective, so it will only be done in files that cross between DST and standard time. Default is <code>FALSE</code>. Uses <code><a href="dst_change_handler.html">dst_change_handler()</a></code> to do the adjustment. Look there for more infos. It is not equipped to handle two jumps in one file (so back and forth between DST and standard time), but will work fine if jums occur in separate files.</p></li>
<li><p><code>auto.plot</code>: a logical on whether to call <code><a href="gg_overview.html">gg_overview()</a></code> after import. Default is <code>TRUE</code>.</p></li>
<li><p><code>...</code>: supply additional arguments to the readr import functions, like <code>na</code>. Might also be used to supply arguments to the specific import functions, like <code>column_names</code> for <code>Actiwatch_Spectrum</code> devices. Those devices will always throw a helpful error message if you forget to supply the necessary arguments.
If the <code>Id</code> column is already part of the <code>dataset</code> it will just use
this column. If the column is not present it will add this column and fill
it with the filename of the importfile (see param <code>auto.id</code>).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="devices">Devices<a class="anchor" aria-label="anchor" href="#devices"></a></h2>
    

<p>The set of import functions provide a convenient way to import light logger
data that is then perfectly formatted to add metadata, make visualizations
and analyses. There are a number of devices supported, where import should
just work out of the box. To get an overview, you can simply call the
<code>supported.devices</code> dataset. The list will grow continuously as the package
is maintained.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">supported.devices</span></span>
<span><span class="co">#&gt;  [1] "Actiwatch_Spectrum" "ActLumus"           "ActTrust"          </span></span>
<span><span class="co">#&gt;  [4] "DeLux"              "LiDo"               "LightWatcher"      </span></span>
<span><span class="co">#&gt;  [7] "LYS"                "nanoLambda"         "Speccy"            </span></span>
<span><span class="co">#&gt; [10] "SpectraWear"</span></span></code></pre><p></p></div><div class="section">
<h3 id="actlumus">ActLumus<a class="anchor" aria-label="anchor" href="#actlumus"></a></h3>


<p>A sample file is provided with the package, it can be accessed through
<code>system.file("extdata/205_actlumus_Log_1020_20230904101707532.txt.zip", package = "LightLogR")</code>. It does not need to be unzipped to be imported.
This sample file is a good example for a regular dataset without gaps</p>
</div>

<div class="section">
<h3 id="lys">LYS<a class="anchor" aria-label="anchor" href="#lys"></a></h3>


<p>A sample file is provided with the package, it can be accessed
through <code>system.file("extdata/sample_data_LYS.csv", package = "LightLogR")</code>. This sample file is a good example for an irregular dataset.</p>
</div>

<div class="section">
<h3 id="actiwatch-spectrum">Actiwatch_Spectrum<a class="anchor" aria-label="anchor" href="#actiwatch-spectrum"></a></h3>


<p><strong>Required Argument: <code>column_names</code></strong> A character vector containing column
names in the order in which they appear in the file. This is necessary to
find the starting point of actual data.</p>
</div>

<div class="section">
<h3 id="acttrust">ActTrust<a class="anchor" aria-label="anchor" href="#acttrust"></a></h3>


<p>This function works for both ActTrust 1 and 2 devices</p>
</div>

<div class="section">
<h3 id="speccy">Speccy<a class="anchor" aria-label="anchor" href="#speccy"></a></h3>


<p>.</p>
</div>

<div class="section">
<h3 id="delux">DeLux<a class="anchor" aria-label="anchor" href="#delux"></a></h3>


<p>.</p>
</div>

<div class="section">
<h3 id="lido">LiDo<a class="anchor" aria-label="anchor" href="#lido"></a></h3>


<p>.</p>
</div>

<div class="section">
<h3 id="spectrawear">SpectraWear<a class="anchor" aria-label="anchor" href="#spectrawear"></a></h3>


<p>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>
    

<div class="section">
<h3 id="imports-made-easy">Imports made easy<a class="anchor" aria-label="anchor" href="#imports-made-easy"></a></h3>


<p>To import a file, simple specify the filename (and path) and feed it to the
<code>import_Dataset</code> function. There are sample datasets for all devices.</p>
<p>The import functions provide a basic overview of the data after import,
such as the intervals between measurements or the start and end dates.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/sample_data_LYS.csv"</span>, package <span class="op">=</span> <span class="st">"LightLogR"</span><span class="op">)</span></span>
<span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_Dataset.html">import_Dataset</a></span><span class="op">(</span><span class="st">"LYS"</span>, <span class="va">filepath</span>, auto.plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Successfully read in 11'422 observations across 1 Ids from 1 LYS-file(s).</span></span>
<span><span class="co">#&gt; Timezone set is UTC.</span></span>
<span><span class="co">#&gt; The system timezone is Europe/Berlin. Please correct if necessary!</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; First Observation: 2023-06-21 00:00:12</span></span>
<span><span class="co">#&gt; Last Observation: 2023-06-22 23:59:48</span></span>
<span><span class="co">#&gt; Timespan: 2 days</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observation intervals: </span></span>
<span><span class="co">#&gt;   Id              interval.time     n pct    </span></span>
<span><span class="co">#&gt; 1 sample_data_LYS 15s           10015 87.689%</span></span>
<span><span class="co">#&gt; 2 sample_data_LYS 16s            1367 11.969%</span></span>
<span><span class="co">#&gt; 3 sample_data_LYS 17s              23 0.201% </span></span>
<span><span class="co">#&gt; 4 sample_data_LYS 18s              16 0.140%</span></span></code></pre><p></p></div>
<p>Import functions can also be called directly:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/205_actlumus_Log_1020_20230904101707532.txt.zip"</span>, package <span class="op">=</span> <span class="st">"LightLogR"</span><span class="op">)</span></span>
<span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">import</span><span class="op">$</span><span class="fu">ActLumus</span><span class="op">(</span><span class="va">filepath</span>, auto.plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Successfully read in 61'016 observations across 1 Ids from 1 ActLumus-file(s).</span></span>
<span><span class="co">#&gt; Timezone set is UTC.</span></span>
<span><span class="co">#&gt; The system timezone is Europe/Berlin. Please correct if necessary!</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; First Observation: 2023-08-28 08:47:54</span></span>
<span><span class="co">#&gt; Last Observation: 2023-09-04 10:17:04</span></span>
<span><span class="co">#&gt; Timespan: 7.1 days</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observation intervals: </span></span>
<span><span class="co">#&gt;   Id                                          interval.time     n pct  </span></span>
<span><span class="co">#&gt; 1 205_actlumus_Log_1020_20230904101707532.txt 10s           61015 100%</span></span>
<span><span class="va">dataset</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/gg_days.html">gg_days</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p><img src="figures/unnamed-chunk-1-1.png" alt=""></p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">dataset</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Datetime</span>, <span class="va">TEMPERATURE</span>, <span class="va">LIGHT</span>, <span class="va">MEDI</span>, <span class="va">Id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1500</span><span class="op">:</span><span class="fl">1505</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 x 5</span></span>
<span><span class="co">#&gt; # Groups:   Id [1]</span></span>
<span><span class="co">#&gt;   Datetime            TEMPERATURE LIGHT  MEDI Id                                </span></span>
<span><span class="co">#&gt;   &lt;dttm&gt;                    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;                             </span></span>
<span><span class="co">#&gt; 1 2023-08-28 12:57:44        26.9  212.  202. 205_actlumus_Log_1020_20230904101~</span></span>
<span><span class="co">#&gt; 2 2023-08-28 12:57:54        26.9  208.  199. 205_actlumus_Log_1020_20230904101~</span></span>
<span><span class="co">#&gt; 3 2023-08-28 12:58:04        26.9  205.  196. 205_actlumus_Log_1020_20230904101~</span></span>
<span><span class="co">#&gt; 4 2023-08-28 12:58:14        26.8  204.  194. 205_actlumus_Log_1020_20230904101~</span></span>
<span><span class="co">#&gt; 5 2023-08-28 12:58:24        26.9  203.  194. 205_actlumus_Log_1020_20230904101~</span></span>
<span><span class="co">#&gt; 6 2023-08-28 12:58:34        26.8  204.  195. 205_actlumus_Log_1020_20230904101~</span></span></code></pre><p></p></div>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="supported.devices.html">supported.devices</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Johannes Zauner, Manuel Spitschan, Steffen Hartmeyer, MeLiDos, EURAMET, European Union.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

